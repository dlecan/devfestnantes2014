<!DOCTYPE html>
<html>
  <head>
    <title>Mettez un Panda roux dans votre Webview HTML5 - Devfest Nantes 2014</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <style type="text/css">
      @import url(http://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(http://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body {
        font-family: 'Ubuntu Mono';
      }
      h1, h2, h3 {
        font-family: 'Ubuntu Mono';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code {
        font-size: 22px;
      }

      .remark-slide-content {
        font-size: 30px;
      }
       
      .dlecan { font-family: Georgia, serif; background-color: #000; }
      .dlecan p { color: #a09583; }
      .dlecan h1 { text-shadow: none; background-color: inherit; font-family: Georgia, serif; color: #a09583; }
      .dlecan h2 { font-family: Georgia, serif; color: #fff; }
      .dlecan a { color: #ff6967; }

      .footnote {
        position: absolute;
        bottom: 2em;
        font-size: 85%;
      }

      .red    { color: #FF4943; }
      .gray   { color: #787878; }
      .green  { color: #87A558; }
      .blue   { color: #41C8F0; }
      .yellow { color: #DBEC62; }
      .white  { color: white;   }
    </style>
  </head>
  <body>
    <textarea id="source">

name: intro-devfest
background-image: url("resources/2014_affiche_A2_paysage_avec sponsors_16-9.png")

---

class: center, middle

# Mettez un panda roux <br/> dans votre Webview

.footnote.left[Built with [remark](https://github.com/gnab/remark/)]

---

class: dlecan, center, middle

Par

## Damien Lecan

Web & mobile Architect @[SQLI](http://www.sqli.com)


---

# Contenu

- qu'est-ce qu'une webview ?
- quel problème avec le développement HTML5 multi-OS ?
- parler d'une application desktop + tablettes avec expérience similaire sur tous les OS
- Parts de marché Android
- Geckoview
- Intégration avec Cordova https://issues.apache.org/jira/browse/CB-3990

- ...
        
        * Super appli
        * Desktop : OK
        * iOS : OK
        * Android : KO
        

---

Chapitre I

---

Il était une fois ...

---

NBA ! New Banking App

mettre un fond sombre, 3 couleurs et des polices spaces

---
# Exigences

--

* <i class="fa fa-desktop fa-3x"></i> Desktop
  * Site web
--

* <i class="fa fa-tablet fa-3x"></i> Tablettes
  * Accès par les stores
--
  
* Expérience utilisateur (quasi) identique sur tous les terminaux
--

* Doit faire .red[*_Whaou !_*] à sa sortie ...
--
  
* ...et mourir quelques semaines plus tard

---
class: center, middle

##  Quelle technologie sur tablette ?

--

# Natif vs Webview HTML5

--

![Fight !](resources/fight.png)

---

class: center, middle

# Webview ?

---
background-image: url("resources/biere.jpg")
class: center, middle

# .white[HTML5&nbsp;&nbsp;&nbsp;]

# &nbsp;

# WEBVIEW !&nbsp;&nbsp;

---
background-image: url("resources/webview_healthtap_simple.png")
class:  middle

# .blue[WEBVIEW !]

---
# Webview ?

```java
String url = "http://devfest.gdgnantes.com/";
// Ou bien pourrait être une URL locale pour une application
// Javascript riche (type AngularJS ...)
// url = "file:///...";

WebView webview = (WebView) findViewById(R.id.webview);
webview.loadUrl(url);

WebSettings ws = webview.getSettings();
ws.setJavaScriptEnabled(true);
```
---
class: middle, center

# Et les "perfs" des Webviews ?

<i class="fa fa-tachometer fa-5x"></i>

---

name: html5-support

# Support HTML5 des Webviews

<div id="chartdiv-html5-support" style="width: 100%; height: 400px; background-color: #282828;" ></div>

.footnote[Source : [html5test.com](http://html5test.com)]

---

name: android-sm

Parts de marché des versions Android

<div id="chartdiv-android-sm" style="width: 100%; height: 400px; background-color: #282828;" ></div>

.footnote[Source (2014-11-03): [Android Dashboard](https://developer.android.com/about/dashboards/index.html#Platform)]

---

.center[#  En résumé

## Nos choix possibles sur Android]
1. Natif
2. Webview Android HTML5
<br/>mais Android 4.4 mini (PDM &lt; 30% <i class="fa fa-thumbs-down"></i>
)
3. ...

---
class: center, middle

Image de Firefox

Geckoview


    </textarea>
    <script src="http://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript"></script>
    <!-- amCharts javascript sources -->
    <script src="http://cdn.amcharts.com/lib/3/amcharts.js" type="text/javascript"></script>
    <script src="http://cdn.amcharts.com/lib/3/serial.js" type="text/javascript"></script>
    <script src="http://cdn.amcharts.com/lib/3/pie.js" type="text/javascript"></script>
    <script src="http://cdn.amcharts.com/lib/3/themes/dark.js" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create({
        ratio: '16:9',
        highlightLanguage: 'java',
        highlightStyle: 'monokai'
      });

      slideshow.on('afterShowSlide', function (slide) {
        var slideName = slide.properties.name;

        if (slideName  === "html5-support") {
          AmCharts.makeChart("chartdiv-html5-support",
            {
              "type": "serial",
              "pathToImages": "http://cdn.amcharts.com/lib/3/images/",
              "categoryField": "category",
              "startDuration": 1,
              "startEffect": "easeOutSine",
              "fontSize": 14,
              "handDrawn": true,
              "theme": "dark",
              "categoryAxis": {
                "gridPosition": "start"
              },
              "trendLines": [],
              "graphs": [
                {
                  "balloonText": "[[title]] of [[category]]:[[value]]",
                  "fillAlphas": 1,
                  "id": "AmGraph-1",
                  "labelText": "[[value]]",
                  "title": "Score HTML5Test",
                  "type": "column",
                  "valueField": "column-1"
                },
                {
                  "balloonText": "[[title]] of [[category]]:[[value]]",
                  "bullet": "round",
                  "id": "AmGraph-2",
                  "labelText": "[[value]]",
                  "lineThickness": 2,
                  "title": "Exigence MOA",
                  "valueField": "column-2"
                }
              ],
              "guides": [],
              "valueAxes": [
                {
                  "id": "ValueAxis-1",
                  "axisThickness": 0,
                  "tickLength": 25,
                  "title": ""
                }
              ],
              "allLabels": [],
              "balloon": {},
              "legend": {
                "useGraphSettings": true
              },
              "titles": [
                {
                  "id": "Title-1",
                  "size": 15,
                  "text": "Score HTML5 Test par Webview"
                }
              ],
              "dataProvider": [
                {
                  "category": "iOS8",
                  "column-1": "438",
                  "column-2": "380"
                },
                {
                  "category": "Windows 8 / IE11",
                  "column-1": "376",
                  "column-2": "380"
                },
                {
                  "category": "Android L",
                  "column-1": "500",
                  "column-2": "380"
                },
                {
                  "category": "Android 4.4",
                  "column-1": "434",
                  "column-2": "380"
                },
                {
                  "category": "Android 4.0 -> 4.2",
                  "column-1": "275",
                  "column-2": "380"
                },
                {
                  "category": "Android 2.3",
                  "column-1": "187",
                  "column-2": "380"
                }
              ]
            }
          );

        } else if (slideName === "android-sm") {

          AmCharts.makeChart("chartdiv-android-sm",
            {
              "type": "pie",
              "pathToImages": "http://cdn.amcharts.com/lib/3/images/",
              "balloonText": "[[title]]<br><span style='font-size:14px'><b>[[value]]</b> ([[percents]]%)</span>",
              "titleField": "category",
              "valueField": "column-1",
              "fontSize": 14,
              "theme": "dark",
              "allLabels": [],
              "balloon": {
                "borderThickness": 0
              },
              "titles": [],
              "dataProvider": [
                {
                  "category": "Android <= 4.3",
                  "column-1": "70"
                },
                {
                  "category": "Android 4.4",
                  "column-1": "30"
                }
              ]
            }
          );

        }
      });

    </script>

  </body>
</html>